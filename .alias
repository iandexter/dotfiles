alias rm='rm -i'
alias mv='mv -i'
alias l='ls -lartF'
alias ll='ls -lrt'
alias gpg='gpg2'
alias strings='strings -a'
genrand() {
    [ -z "$1" ] && num=8 || num=$1
    strings /dev/urandom | grep -o '[[:alnum:]]' | head -n $num | tr -d '\n'
    echo
}
genurand() {
    echo `</dev/urandom tr -dc 'a-zA-Z0-9~!@#$%^&*()_+{}|[]\:;<>?,./' | head -c $1`
}
wiki() {
	dig +short txt $1.wp.dg.cx
}
logMessage() {
	COMMAND="$*"
	sh -c "${COMMAND} | awk '{
		\"echo \\\"$(date +%b\ %e\ %T) $(hostname) $(basename $0)[$$]:\\\"\"|getline timestamp;
		close(\"echo \\\"$(date +%b\ %e\ %T) $(hostname) $(basename $0)[$$]:\\\"\");
		printf(\"%s %s\n\", timestamp, \$0)
	}'"
}
svnadd() {
	svn add --auto-props $1
	svn propset svn:keywords "Date Id URL Rev Author" $1
}
headtails() {
	[ -z "$2" ] && num='' || num="-n $2"
	head -n ${num} $1
	echo "..."
	tail -n ${num} $1
}
mkcd() {
	[ ! -d $1 ] && mkdir $1 && cd $1
}
newscreen() {
    [ -z "$1" ] && name='DEV' || name="$1"
    unset TMOUT
    screen -S $name -T xterm -U
}
rup() {
    while [[ -n "$1" ]] ; do
    	[[ $1 =~ ^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$ ]] && h=$1 || h=$(host $1 | awk '{print $1}')
        echo "${h}: " $(ssh $h uptime)
        shift
    done
}
rtop() {
    [ -z "$2" ] && num='-n 50' || num="-n $2"
    [[ $1 =~ ^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$ ]] && h=$1 || h=$(host $1 | awk '{print $1}')
    echo -n "$h: "
    ssh -t $h top -b -n 1 | head ${num}
}
rping() {
    while [[ -n "$1" ]] ; do
    	[[ $1 =~ ^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$ ]] && h=$1 || h=$(host $1 | awk '{print $1}')
        if ping -c 1 $h &>/dev/null ; then echo "$h is alive" ; else echo "$h is dead" ; fi
        shift
    done
}
ssh-agent-key() {
    eval `ssh-agent` && \
    ssh-add && \
    ssh-add -l
}
rot13() {
    echo "$@" | tr '[a-m][n-z][A-M][N-Z] -' '[n-z][a-m][N-Z][A-M]_+'
}
rdiff() {
    if [[ $# -lt 3 ]] ; then
        echo "rdiff [options] host1 host2 file"
    else
        if [[ ! "$1" =~ "-" ]] ; then
            diff -bBu <(ssh $1 cat $3) <(ssh $2 cat $3)
        elif [[ "$1" =~ "-c" ]] ; then
            diff -bBu <(ssh $2 cat $4) <(ssh $3 cat $4) | vim -R "+set nonumber" "+syntax on" -
        else
            diff $1 -bB <(ssh $2 cat $4) <(ssh $3 cat $4)
        fi
    fi
}
urlopen() {
    if [[ $# -lt 1 ]] ; then
        echo "urlopen url"
    else
        /usr/bin/open -a "Google Chrome Canary" $1 --args --incognito
    fi
}
